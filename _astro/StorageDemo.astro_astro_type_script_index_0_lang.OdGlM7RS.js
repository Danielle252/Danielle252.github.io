import{i as c,r as d,c as i,u as l,a as u}from"./storage.C9RQEC1c.js";const n=()=>{const t=u(),r=document.getElementById("indexeddb-status");r.textContent="Available",r.className="success";const s=document.getElementById("fsapi-status");s.textContent=t.fileSystemAvailable?"Available":"Not Available",s.className=t.fileSystemAvailable?"success":"error";const e=document.getElementById("fsapi-permission");e.textContent=t.fileSystemPermission?"Granted":"Not Granted",e.className=t.fileSystemPermission?"success":"error";const o=document.getElementById("request-fs-button");o.disabled=!t.fileSystemAvailable},a=(t,r=!0)=>{const s=document.getElementById("storage-result");s.textContent=t,s.className=r?"success":"error",setTimeout(()=>{s.textContent="",s.className=""},3e3)};document.addEventListener("DOMContentLoaded",async()=>{try{await c(),n(),document.getElementById("request-fs-button").addEventListener("click",async()=>{try{const e=await d();n(),e?a("File system access granted!"):a("File system access denied.",!1)}catch(e){console.error("Error requesting file system permission:",e),a(`Error: ${e.message}`,!1)}}),document.getElementById("reset-data-button").addEventListener("click",async()=>{try{await i(),window.dispatchEvent(new CustomEvent("xp-updated")),a("Data has been reset!")}catch(e){console.error("Error resetting data:",e),a(`Error: ${e.message}`,!1)}}),document.getElementById("add-xp-button").addEventListener("click",async()=>{try{await l(10),window.dispatchEvent(new CustomEvent("xp-updated")),a("Added 10 XP!")}catch(e){console.error("Error adding XP:",e),a(`Error: ${e.message}`,!1)}})}catch(t){console.error("Error initializing storage demo:",t),a(`Error: ${t.message}`,!1)}});
